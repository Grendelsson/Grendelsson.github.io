<!DOCTYPE html>
<html>
<head>
<meta name="robots" content="noindex">
<script src="//js.jotform.com/JotFormCustomWidget.min.js"></script>
</head>
<body>
<script type="text/javascript">
  // add listener to widget, posting up to top
  window.addEventListener('message',function (msg){
    console.log('widget-listener attached');
    window.top.postMessage(msg.data,'*');
  });
  //subscribe to ready
  JFCustomWidget.subscribe("ready", function (msg){
      JFCustomWidget.subscribe("submit", function submitCallback(msg){
        console.log('submit event fires: ',msg);
        window.top.postMessage('post to top from submit callback','*');
        // send value to JotForm
        // JFCustomWidget.sendSubmit({
        //   value: 'test send submit',
        //   valid: true
        // });
      });
  });
  function postUp(val){
    console.log('postUp called');
    window.top.postMessage(val,'*');
  }
</script>
<div>
</div>
<button type="button" onclick="postUp(this.value)" value="Test button data">Test Button</button>
</body>
</html>