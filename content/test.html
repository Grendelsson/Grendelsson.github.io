<!DOCTYPE html>
<html>
<head>
<meta name="robots" content="noindex">
<script src="//js.jotform.com/JotFormCustomWidget.min.js"></script>
<script>
  function postUp(val){
    console.log('using callbacks');
    window.top.postMessage(val,'*');
  }
</script>
<script type="text/javascript">
  //always subscribe to ready event and implement widget related code
  //inside callback function , it is the best practice while developing widgets
  JFCustomWidget.subscribe("ready", function(msg){
      console.log('ready: ',msg);
      var label = JFCustomWidget.getWidgetSetting('QuestionLabel') || "missing";
      console.log(label);
      //subscribe to form submit event
      JFCustomWidget.subscribe("submit", function(){
          var msg = {
              //you should valid attribute to data for JotForm
              //to be able to use youw widget as required
              valid: true,
              value: 'test'
          }
          // send value to JotForm
          JFCustomWidget.sendSubmit(msg);
      });
  });
</script>
</head>
<body>
<div>
Testing custom widget
</div>
<button type="button" onclick="postUp(this.value)" value="Test button msg">Test Button</button>
</body>
</html>
