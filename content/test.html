<!DOCTYPE html>
<html>
<head>
<meta name="robots" content="noindex">
<script src="//js.jotform.com/JotFormCustomWidget.min.js"></script>
<script type="text/javascript">
  function postUp(val){
    console.log('postUp called');
    window.top.postMessage(val,'*');
  }
  var submitCallback = function (msg){
    console.log('submit event fires: ',msg);
    alert('submit');
    // send value to JotForm
    JFCustomWidget.sendSubmit({
      value: 'test send submit',
      valid: true
    });
  };
  //subscribe to ready
  var readyCallback = function(msg){
      console.log("ready message arrived from JotForm", msg);
      JFCustomWidget.subscribe("submit", submitCallback());
  };
  JFCustomWidget.subscribe("ready", readyCallback());
</script>
</head>
<body>
<div>
Testing custom widget
</div>
<button type="button" onclick="postUp(this.value)" value="Test button data">Test Button</button>
</body>
</html>